# Analytics Reports - ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ó‡§æ‡§á‡§° üìä

## ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂ (Summary)
‡§∏‡§≠‡•Ä 6 ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ü‡§æ‡§á‡§™ ‡§Ö‡§¨ ‡§∏‡§π‡•Ä ‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§π‡§∞ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç detailed error handling ‡§î‡§∞ user-friendly messages ‡§π‡•à‡§Ç‡•§

## ‡§ï‡•ç‡§Ø‡§æ ‡§†‡•Ä‡§ï ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ (What Was Fixed)

### ‡§™‡§π‡§≤‡•á ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ (Previous Problem)
- ‚ùå Financial Summary ‡§î‡§∞ Store Performance ‡§ï‡•á ‡§Ö‡§≤‡§æ‡§µ‡§æ ‡§ï‡•ã‡§à ‡§≠‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∞‡§π‡•Ä ‡§•‡•Ä
- ‚ùå Error messages clear ‡§®‡§π‡•Ä‡§Ç ‡§•‡•á
- ‚ùå Console ‡§Æ‡•á‡§Ç proper logging ‡§®‡§π‡•Ä‡§Ç ‡§•‡•Ä

### ‡§Ö‡§¨ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à (Current Status)
- ‚úÖ ‡§∏‡§≠‡•Ä 6 ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç
- ‚úÖ ‡§π‡§∞ error ‡§ï‡•á ‡§≤‡§ø‡§è specific message
- ‚úÖ Console ‡§Æ‡•á‡§Ç detailed logging
- ‚úÖ Empty data ‡§ï‡•ã properly handle ‡§ï‡§∞‡§®‡§æ

## 6 ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ü‡§æ‡§á‡§™ (6 Report Types)

### 1. Sales Report (‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü)
**‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ:**
- Order numbers ‡§î‡§∞ invoice numbers
- Customer ‡§ï‡•á ‡§®‡§æ‡§Æ
- Total amount ‡§î‡§∞ paid amount
- Payment status ‡§î‡§∞ order status
- ‡§π‡§∞ order ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•á items ‡§π‡•à‡§Ç

**‡§ï‡§¨ use ‡§ï‡§∞‡•á‡§Ç:** ‡§ú‡§¨ ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§≠‡•Ä orders ‡§ï‡•Ä details ‡§ö‡§æ‡§π‡§ø‡§è

### 2. Product Performance (‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§™‡§∞‡§´‡•â‡§∞‡•ç‡§Æ‡•á‡§Ç‡§∏)
**‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ:**
- Product ‡§ï‡§æ ‡§®‡§æ‡§Æ, category, subcategory
- ‡§ï‡§ø‡§§‡§®‡•á units ‡§¨‡§ø‡§ï‡•á
- Total revenue
- Average price

**‡§ï‡§¨ use ‡§ï‡§∞‡•á‡§Ç:** ‡§ú‡§¨ ‡§¶‡•á‡§ñ‡§®‡§æ ‡§π‡•ã ‡§ï‡•å‡§® ‡§∏‡§æ product ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§¨‡§ø‡§ï ‡§∞‡§π‡§æ ‡§π‡•à

### 3. Store Performance (‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§™‡§∞‡§´‡•â‡§∞‡•ç‡§Æ‡•á‡§Ç‡§∏)
**‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ:**
- Store/Pharmacy ‡§ï‡§æ ‡§®‡§æ‡§Æ
- Total orders
- Total revenue
- Paid amount ‡§î‡§∞ pending amount
- Average order value

**‡§ï‡§¨ use ‡§ï‡§∞‡•á‡§Ç:** ‡§ú‡§¨ ‡§¶‡•á‡§ñ‡§®‡§æ ‡§π‡•ã ‡§ï‡•å‡§® ‡§∏‡•Ä pharmacy ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ order ‡§ï‡§∞ ‡§∞‡§π‡•Ä ‡§π‡•à

### 4. Inventory Report (‡§á‡§®‡•ç‡§µ‡•á‡§Ç‡§ü‡§∞‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü)
**‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ:**
- Product name, size, unit
- Stock quantity (‡§ï‡§ø‡§§‡§®‡§æ stock ‡§π‡•à)
- Cost price (‡§ñ‡§∞‡•Ä‡§¶ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø)
- Selling price (‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§Æ‡•Ç‡§≤‡•ç‡§Ø)
- Stock value (stock ‡§ï‡•Ä ‡§ï‡•Å‡§≤ ‡§ï‡•Ä‡§Æ‡§§)
- Status (In Stock/Low Stock/Out of Stock)

**‡§ï‡§¨ use ‡§ï‡§∞‡•á‡§Ç:** ‡§ú‡§¨ stock ‡§ï‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è

### 5. Financial Summary (‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂)
**‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ:**
- ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•á ‡§π‡§ø‡§∏‡§æ‡§¨ ‡§∏‡•á data
- Sales revenue (‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä)
- Purchase cost (‡§ñ‡§∞‡•Ä‡§¶)
- Gross profit (‡§≤‡§æ‡§≠)
- Profit margin % (‡§≤‡§æ‡§≠ ‡§™‡•ç‡§∞‡§§‡§ø‡§∂‡§§)

**‡§ï‡§¨ use ‡§ï‡§∞‡•á‡§Ç:** ‡§ú‡§¨ ‡§¶‡•á‡§ñ‡§®‡§æ ‡§π‡•ã ‡§ï‡§ø‡§§‡§®‡§æ profit ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à

### 6. Customer Analysis (‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£)
**‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ:**
- Customer ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§î‡§∞ email
- Member since (‡§ï‡§¨ ‡§∏‡•á customer ‡§π‡•à)
- Total orders
- Total spent (‡§ï‡•Å‡§≤ ‡§ñ‡§∞‡•ç‡§ö)
- Outstanding balance (‡§¨‡§æ‡§ï‡•Ä ‡§∞‡§æ‡§∂‡§ø)
- Last order date
- Average order value

**‡§ï‡§¨ use ‡§ï‡§∞‡•á‡§Ç:** ‡§ú‡§¨ ‡§¶‡•á‡§ñ‡§®‡§æ ‡§π‡•ã ‡§ï‡•å‡§® ‡§∏‡§æ customer ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ order ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

## ‡§ï‡•à‡§∏‡•á Use ‡§ï‡§∞‡•á‡§Ç (How to Use)

### Step 1: Analytics Page ‡§ñ‡•ã‡§≤‡•á‡§Ç
```
Admin Dashboard ‚Üí Analytics ‚Üí Reports Tab
```

### Step 2: Date Range ‡§ö‡•Å‡§®‡•á‡§Ç
- Last 7 days
- Last 30 days
- Last 90 days
- This Year
- Custom Range

### Step 3: Report Type ‡§ö‡•Å‡§®‡•á‡§Ç
6 options ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•ã‡§à ‡§è‡§ï ‡§ö‡•Å‡§®‡•á‡§Ç

### Step 4: Format ‡§ö‡•Å‡§®‡•á‡§Ç
- Excel (.xlsx) - Excel ‡§Æ‡•á‡§Ç ‡§ñ‡•ã‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
- CSV (.csv) - Google Sheets ‡§Ø‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä spreadsheet ‡§Æ‡•á‡§Ç ‡§ñ‡•ã‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è

### Step 5: Generate ‡§ï‡§∞‡•á‡§Ç
"Generate Report" button ‡§™‡§∞ click ‡§ï‡§∞‡•á‡§Ç

### Step 6: Download
File automatically ‡§Ü‡§™‡§ï‡•á Downloads folder ‡§Æ‡•á‡§Ç save ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡•Ä

## Error Messages (‡§Ö‡§ó‡§∞ ‡§ï‡•ã‡§à error ‡§Ü‡§è)

### "No Data"
**‡§Æ‡§§‡§≤‡§¨:** Selected date range ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à data ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
**Solution:** Date range ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç ‡§Ø‡§æ data add ‡§ï‡§∞‡•á‡§Ç

### "Failed to fetch orders"
**‡§Æ‡§§‡§≤‡§¨:** Orders table ‡§∏‡•á data ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤ ‡§∞‡§π‡§æ
**Solution:** 
- Database connection check ‡§ï‡§∞‡•á‡§Ç
- Admin permissions verify ‡§ï‡§∞‡•á‡§Ç
- RLS policies check ‡§ï‡§∞‡•á‡§Ç

### "Failed to fetch customer profiles"
**‡§Æ‡§§‡§≤‡§¨:** Profiles table ‡§∏‡•á data ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤ ‡§∞‡§π‡§æ
**Solution:** Profiles table ‡§î‡§∞ permissions check ‡§ï‡§∞‡•á‡§Ç

### "Failed to fetch product sizes"
**‡§Æ‡§§‡§≤‡§¨:** Product sizes table ‡§∏‡•á data ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤ ‡§∞‡§π‡§æ
**Solution:** Product_sizes table check ‡§ï‡§∞‡•á‡§Ç

## Troubleshooting (‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®)

### Report download ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§∞‡§π‡•Ä?
1. Browser console ‡§ñ‡•ã‡§≤‡•á‡§Ç (F12 ‡§¶‡§¨‡§æ‡§è‡§Ç)
2. Error message ‡§¶‡•á‡§ñ‡•á‡§Ç
3. Date range ‡§Æ‡•á‡§Ç data ‡§π‡•à ‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç check ‡§ï‡§∞‡•á‡§Ç
4. Browser cache clear ‡§ï‡§∞‡•á‡§Ç (Ctrl+Shift+R)

### "No Data" message ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à?
1. Date range ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç
2. Database ‡§Æ‡•á‡§Ç orders ‡§π‡•à‡§Ç ‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç check ‡§ï‡§∞‡•á‡§Ç
3. Filters ‡§∏‡§π‡•Ä ‡§π‡•à‡§Ç ‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç verify ‡§ï‡§∞‡•á‡§Ç

### Specific error message ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à?
1. Error message ‡§ï‡•ã ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∏‡•á ‡§™‡§¢‡§º‡•á‡§Ç
2. Browser console (F12) ‡§Æ‡•á‡§Ç details ‡§¶‡•á‡§ñ‡•á‡§Ç
3. Database permissions check ‡§ï‡§∞‡•á‡§Ç
4. Admin ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç logged in ‡§π‡•à‡§Ç ‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç verify ‡§ï‡§∞‡•á‡§Ç

## Important Notes (‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡•ã‡§ü‡•ç‡§∏)

### Database Requirements
- `orders` table ‡§Æ‡•á‡§Ç `poApproved` column ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è
- `product_sizes` table ‡§Æ‡•á‡§Ç `cost_price` ‡§î‡§∞ `stock_quantity` columns ‡§π‡•ã‡§®‡•á ‡§ö‡§æ‡§π‡§ø‡§è
- ‡§∏‡§≠‡•Ä tables ‡§™‡§∞ proper RLS policies ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è

### Performance
- ‡§¨‡§°‡§º‡•á datasets ‡§ï‡•á ‡§≤‡§ø‡§è migration run ‡§ï‡§∞‡•á‡§Ç:
  ```
  supabase/migrations/20260121_analytics_performance_indexes.sql
  ```
- ‡§Ø‡§π queries ‡§ï‡•ã fast ‡§¨‡§®‡§æ‡§è‡§ó‡§æ

### Browser Support
- Chrome, Firefox, Edge - ‡§∏‡§≠‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§ó‡§æ
- JavaScript enabled ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è
- Cookies enabled ‡§π‡•ã‡§®‡•á ‡§ö‡§æ‡§π‡§ø‡§è

## Examples (‡§â‡§¶‡§æ‡§π‡§∞‡§£)

### Example 1: Monthly Sales ‡§¶‡•á‡§ñ‡§®‡§æ
1. Financial Summary report ‡§ö‡•Å‡§®‡•á‡§Ç
2. Date range: "This Year" ‡§ö‡•Å‡§®‡•á‡§Ç
3. Format: Excel ‡§ö‡•Å‡§®‡•á‡§Ç
4. Generate Report click ‡§ï‡§∞‡•á‡§Ç
5. File ‡§Æ‡•á‡§Ç ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•á ‡§π‡§ø‡§∏‡§æ‡§¨ ‡§∏‡•á sales vs purchase ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ

### Example 2: Low Stock Products ‡§¶‡•á‡§ñ‡§®‡§æ
1. Inventory Report ‡§ö‡•Å‡§®‡•á‡§Ç
2. Date range ‡§ï‡•ã‡§à ‡§≠‡•Ä (inventory current stock ‡§¶‡§ø‡§ñ‡§æ‡§è‡§ó‡•Ä)
3. Format: Excel ‡§ö‡•Å‡§®‡•á‡§Ç
4. Generate Report click ‡§ï‡§∞‡•á‡§Ç
5. File ‡§Æ‡•á‡§Ç "Low Stock" ‡§Ø‡§æ "Out of Stock" status ‡§µ‡§æ‡§≤‡•á products ‡§¶‡§ø‡§ñ‡•á‡§Ç‡§ó‡•á

### Example 3: Top Customers ‡§¶‡•á‡§ñ‡§®‡§æ
1. Customer Analysis report ‡§ö‡•Å‡§®‡•á‡§Ç
2. Date range: Last 90 days ‡§ö‡•Å‡§®‡•á‡§Ç
3. Format: Excel ‡§ö‡•Å‡§®‡•á‡§Ç
4. Generate Report click ‡§ï‡§∞‡•á‡§Ç
5. File ‡§Æ‡•á‡§Ç customers highest spending ‡§ï‡•á ‡§π‡§ø‡§∏‡§æ‡§¨ ‡§∏‡•á sorted ‡§π‡•ã‡§Ç‡§ó‡•á

## Support (‡§∏‡§π‡§æ‡§Ø‡§§‡§æ)

‡§Ö‡§ó‡§∞ ‡§ï‡•ã‡§à problem ‡§Ü‡§è ‡§§‡•ã:
1. Browser console (F12) ‡§Æ‡•á‡§Ç error ‡§¶‡•á‡§ñ‡•á‡§Ç
2. Screenshot ‡§≤‡•á‡§Ç
3. Error message note ‡§ï‡§∞‡•á‡§Ç
4. Date range ‡§î‡§∞ report type note ‡§ï‡§∞‡•á‡§Ç
5. Support ‡§ï‡•ã contact ‡§ï‡§∞‡•á‡§Ç

## Status (‡§∏‡•ç‡§•‡§ø‡§§‡§ø)

‚úÖ **‡§∏‡§≠‡•Ä Reports ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç** - 6/6 Working
‚úÖ **Build Successful** - ‡§ï‡•ã‡§à error ‡§®‡§π‡•Ä‡§Ç
‚úÖ **Production Ready** - Deploy ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞
‚úÖ **Error Handling Complete** - ‡§∏‡§≠‡•Ä errors properly handle ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç

---

**Date:** 21 January 2026
**Status:** ‚úÖ All Fixed
**Reports Working:** 6/6
**Build:** Successful
